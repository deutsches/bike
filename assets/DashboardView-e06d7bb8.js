import{_ as u,f as p,r as c,o as d,c as m,d as s,a as i,w as a,e as b,s as k,p as f}from"./index-5b2c70a7.js";const{VITE_APP_URL:r,VITE_APP_PATH:g}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"uaena",BASE_URL:"/bike/",MODE:"production",DEV:!1,PROD:!0},x={data(){return{products:[],isCheck:!1}},methods:{logout(){document.cookie="hexToken=;expires=;",this.$router.push("/")},checkAdmin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.$http.post(`${r}api/user/check`).then(t=>{t.data.success||this.$router.push("/login"),this.isCheck=!0}).catch(t=>{alert(t.data),this.$router.push("/login")})},getOrders(){this.$http.get(`${r}api/${g}/orders`).then(e=>{e.data.success}).catch(e=>{alert(e.data)})}},components:{RouterLink:p},mounted(){this.checkAdmin(),this.getOrders()}},$={class:"d-flex"},v={class:"sidebar vh-100 border-end d-flex bg-light flex-column pt-4"},P=s("div",{class:"px-4"},[s("strong",null,"福隆驛站 - 管理後台")],-1),V={class:"overflow-auto mt-3"},w=s("i",{class:"bi bi-house-fill"},null,-1),A=s("span",{class:"ms-3"},"首頁",-1),R=s("i",{class:"bi bi-card-list"},null,-1),E=s("span",{class:"ms-3"},"訂單管理",-1),T=s("i",{class:"bi bi-journals"},null,-1),C=s("span",{class:"ms-3"},"管理產品",-1),L=s("i",{class:"bi bi-door-open"},null,-1),B=s("span",{class:"ms-3"},"登出",-1),D=[L,B],O={class:"main"},I=s("div",{class:"border-bottom sticky-top bg-white"},[s("a",{href:"",class:"py-4 px-4 d-inline-block border-end",id:"toggle-btn"},[s("i",{class:"bi bi-arrows-angle-expand"})])],-1);function y(e,t,N,U,l,n){const o=c("RouterLink"),h=c("RouterView");return d(),m("div",$,[s("aside",v,[P,s("div",V,[s("div",null,[i(o,{to:"/admin",class:"sidebar-link"},{default:a(()=>[w,A]),_:1})]),s("div",null,[i(o,{to:"/admin/Orders",class:"sidebar-link"},{default:a(()=>[R,E]),_:1})]),s("div",null,[i(o,{to:"/admin/Products",class:"sidebar-link"},{default:a(()=>[T,C]),_:1})])]),s("a",{href:"#",class:"mt-auto text-decoration-none sidebar-link",onClick:t[0]||(t[0]=b((..._)=>n.logout&&n.logout(..._),["prevent"]))},D)]),s("div",O,[I,l.isCheck?(d(),k(h,{key:0})):f("",!0)])])}const M=u(x,[["render",y]]);export{M as default};
